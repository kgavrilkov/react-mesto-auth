{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeleteCardPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","style","backgroundImage","link","onClick","name","type","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","card_id","Footer","PopupWithForm","isOpen","title","children","onClose","buttonText","onSubmit","noValidate","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","useEffect","current","value","evt","preventDefault","id","required","placeholder","ref","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","onChange","target","minLength","maxLength","AddPlacePopup","setLink","ImagePopup","DeleteCardPopup","api","address","groupId","token","this","_address","_groupId","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","getResponse","method","body","JSON","stringify","cardId","like","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","data","catch","err","console","log","getInitialCards","cardData","Provider","removeCard","filter","c","changeLikeStatus","newCard","newCards","info","setUserAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5de0cf3d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header\">\n      <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\n  const currentUser=React.useContext(CurrentUserContext);\n  \n  const isOwn=card.owner._id===currentUser._id;\n\n  const cardDeleteButtonClassName=(\n    `card__delete ${isOwn ? 'card__delete_visible' : 'card__delete_invisible'}`\n  );\n\n  const isLiked=card.likes.some(item => item._id===currentUser._id);\n\n  const cardLikeButtonClassName=(\n    `card__like ${isLiked ? 'card__like_active' : 'card__like'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  return (\n    <article className=\"card\">\n      <div className=\"card__image\" style={{backgroundImage: `url(${card.link})`}} \n      onClick={handleClick}></div>\n      <div className=\"card__item\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__item-like\">\n          <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"score\" \n          onClick={handleLikeClick}></button>\n          <p className=\"card__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardDeleteButtonClassName} aria-label=\"delete\" \n      onClick={handleDeleteClick}></button>\n    </article>\n  );    \n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, \nonCardLike, onCardDelete}) {\n  const currentUser=React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile content__profile\">\n        <div className=\"profile__avatar\" onClick={onEditAvatar} \n        style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"button button_type_edit\" aria-label=\"edit\" \n          onClick={onEditProfile}></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"button button_type_add\" aria-label=\"add\" \n        onClick={onAddPlace}></button>\n      </section>\n      <section className=\"cards content__cards\">\n        {cards.map((card, card_id) => (\n          <Card\n            key={card_id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete} \n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__paragraph\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({name, isOpen, title, children, onClose, buttonText='Сохранить', onSubmit}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__heading\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"button popup__button\" \n          onClick={onClose}>{buttonText}</button>\n        </form>\n        <button type=\"button\" className=\"button popup__close\" aria-label=\"close\" \n        onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React  from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const avatarRef=React.useRef();\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n    avatarRef.current.value='';\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const avatar=avatarRef.current.value;\n    onUpdateAvatar({\n      avatar: avatar\n    })\n    avatarRef.current.value='';\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"edit-avatar\" title=\"Обновить аватар\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"avatar-input\" className=\"popup__input popup__input_type_link\"\n        type=\"url\" name=\"avatar\" required placeholder=\"Ссылка на изображение\" \n        ref={avatarRef} />\n        <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm> \n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName]=React.useState('');\n  const [description, setDescription]=React.useState('');\n  const currentUser=React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);}\n    return;\n  }, [isOpen, currentUser]);\n  \n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description\n    })\n    setName('');\n    setDescription('');\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"edit-profile\" title=\"Редактировать профиль\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"name-input\" className=\"popup__input popup__input_type_name\"\n        type=\"text\" name=\"name\" value={name} onChange={handleNameChange} \n        required placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" />\n        <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"job-input\"className=\"popup__input popup__input_type_job\"\n        type=\"text\" name=\"about\" value={description} onChange={handleDescriptionChange} \n        required placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" />\n        <span id=\"job-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const [name, setName]=React.useState('');\n  const [link, setLink]=React.useState('');\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n      setName('');\n      setLink('');\n  }, [isOpen]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: name,\n      link: link\n    })\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"add-card\" title=\"Новое место\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"title-input\" className=\"popup__input popup__input_type_place\"\n        type=\"text\" name=\"name\" value={name} onChange={handleNameChange} \n        required placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" />\n        <span id=\"title-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"link-input\" className=\"popup__input popup__input_type_link\"\n        type=\"url\" name=\"link\" value={link} onChange={handleLinkChange} \n        required placeholder=\"Ссылка на картинку\" />\n        <span id=\"link-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n  return (\n    <div className={`popup popup_type_image ${card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button type=\"button\" className=\"button popup__close\" aria-label=\"close\" \n        onClick={onClose}></button>\n        <img className=\"popup__image\" src={card && card.link} alt=\"#\" />\n        <p className=\"popup__caption\">{card && card.name}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup({isOpen, onClose}) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"remove-card\" title=\"Вы уверены?\" \n    onClose={onClose} buttonText='Да' onSubmit={handleSubmit}></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;","class Api {\n  constructor({address, groupId, token}) {\n    this._address = address;\n    this._groupId = groupId;\n    this._token = token;\n  }\n\n  getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  setUserInfo({name, about}) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(this.getResponse)\n  }\n\n  addCard({name, link}) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(this.getResponse)\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  changeLikeStatus(cardId, like) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  setUserAvatar({avatar}) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(this.getResponse)\n  }\n}\n\nconst api = new Api({\n  address: 'https://mesto.nomoreparties.co/v1',\n  groupId: 'cohort-19',\n  token: '979f327c-b875-4f2f-925c-fd9cce3cb14f'\n});\n\nexport default api;\n","import React from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen]=React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen]=React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen]=React.useState(false);\n  const [selectedCard, setSelectedCard]=React.useState();\n  const [currentUser, setCurrentUser]=React.useState({name: '', about: ''});\n  const [cards, setCards]=React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка в информации о пользователе: ${err}`));\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((cardData) => {\n        setCards(cardData);\n      })\n      .catch(err => console.log(`Ошибка при загрузке карточек: ${err}`));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked=card.likes.some(item => item._id===currentUser._id);\n\n    api.changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards=cards.map((c) => c._id===card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка в статусе лайка: ${err}`)); \n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        setCards(cards.filter((c) => c._id!==card._id));\n      })\n      .catch(err => console.log(`Ошибка при удалении карточки: ${err}`));\n  }\n   \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка обновления информации о пользователе: ${err}`));\n  }\n\n  function handleUpdateAvatar(info) {\n    api.setUserAvatar(info)\n      .then((data) => {\n        setCurrentUser(data); \n      })\n      .catch(err => console.log(`Ошибка обновления аватара: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(info) {\n    api.addCard(info)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch(err => console.log(`Ошибка добавления карточки: ${err}`));\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n  }\n\n  return (\n    <div className=\"root\">\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n            cards={cards}\n          />\n          <Footer />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar} \n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser} \n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n            card={selectedCard} \n            onClose={closeAllPopups}\n          />\n          <DeleteCardPopup\n            onClose={closeAllPopups}\n          />\n        </CurrentUserContext.Provider>\n      </div>  \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}