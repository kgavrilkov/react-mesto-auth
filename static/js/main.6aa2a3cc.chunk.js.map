{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeleteCardPopup.js","utils/api.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/successPic.svg","components/SuccessInfoTooltip.js","images/failPic.svg","components/FailInfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userEmail","onSignOut","loggedIn","React","useState","isHeaderContainerOpen","setIsHeaderContainerOpen","isHeaderContainerMobileClose","setIsHeaderContainerMobileClose","path","className","src","logoPath","alt","type","onClick","aria-label","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","style","backgroundImage","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","card_id","Footer","display","PopupWithForm","isOpen","title","children","onClose","buttonText","onSubmit","noValidate","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","useEffect","current","value","evt","preventDefault","id","required","placeholder","ref","EditProfilePopup","onUpdateUser","setName","description","setDescription","onChange","target","minLength","maxLength","AddPlacePopup","setLink","ImagePopup","DeleteCardPopup","api","address","groupId","token","this","_address","_groupId","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","getResponse","method","body","JSON","stringify","cardId","like","Login","onFailInfoTooltip","onLogin","initialData","email","password","data","setData","history","useHistory","handleChange","resetForm","push","catch","err","console","log","Register","onRegister","InfoTooltip","SuccessInfoTooltip","successPicPath","FailInfoTooltip","failPicPath","ProtectedRoute","Component","component","props","BASE_URL","responseCheck","response","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isSuccessInfoTooltipOpen","setIsSuccessInfoTooltipOpen","isFailInfoTooltipOpen","setIsFailInfoTooltipOpen","setLoggedIn","handleFailInfoTooltipClick","getUserInfo","getInitialCards","cardData","tokenCheck","useCallback","localStorage","getItem","auth","statusCode","Error","closeAllPopups","Provider","removeItem","removeCard","filter","c","changeLikeStatus","newCard","newCards","identifier","setItem","info","setUserAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6aa2a3cc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport {Switch, Route, Link} from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\n\nfunction Header({userEmail, onSignOut, loggedIn}) {\n  const [isHeaderContainerOpen, setIsHeaderContainerOpen]=React.useState();\n  const [isHeaderContainerMobileClose, setIsHeaderContainerMobileClose]=React.useState();\n\n  function open() {\n    setIsHeaderContainerOpen(true);\n    setIsHeaderContainerMobileClose(true);\n  }\n\n  function close() {\n    setIsHeaderContainerOpen(false);\n    setIsHeaderContainerMobileClose(false);\n  }\n\n  return (\n    <Switch>\n      <Route path=\"/main\">\n        <header className=\"header page__header\">\n          <div className={`header__container ${isHeaderContainerOpen && 'header__container_opened'}`}>\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <ul className=\"header__list\">\n              {loggedIn && <li className=\"header__list-item\">{userEmail}</li>} \n              <li className=\"header__list-item\">\n                <button type=\"button\" className=\"button header__button\" onClick={onSignOut}>Выйти</button>\n              </li>\n            </ul>\n            <button type=\"button\" className=\"button header__close-menu\" \n            onClick={close} aria-label=\"close\"></button>\n          </div>\n          <div className={`header__container header__container-mobile ${isHeaderContainerMobileClose && 'header__container-mobile_closed'}`}>\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <button type=\"button\" className=\"button header__open-menu\" \n            onClick={open} aria-label=\"open\"></button>\n          </div>\n        </header>\n      </Route>\n      <Route path=\"/signin\">\n        <header className=\"header page__header\">\n          <div className=\"header__container header__container_type_login\">\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <ul className=\"header__list header__list_type_login\">\n              <li className=\"header__list-item header__list-item_type_login\">\n                <Link className=\"header__link\" to=\"/signup\">Регистрация</Link>\n              </li>\n            </ul>\n          </div>\n        </header>\n      </Route>\n      <Route path=\"/signup\">\n        <header className=\"header page__header\">\n          <div className=\"header__container header__container_type_login\">\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <ul className=\"header__list header__list_type_login\">\n              <li className=\"header__list-item header__list-item_type_login\">\n                <Link className=\"header__link\" to=\"/signin\">Войти</Link>\n              </li>\n            </ul>\n          </div>\n        </header>\n      </Route>\n    </Switch>  \n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\n  const currentUser=React.useContext(CurrentUserContext);\n  \n  const isOwn=card.owner._id===currentUser._id;\n\n  const cardDeleteButtonClassName=(\n    `card__delete ${isOwn ? 'card__delete_visible' : 'card__delete_invisible'}`\n  );\n\n  const isLiked=card.likes.some(item => item._id===currentUser._id);\n\n  const cardLikeButtonClassName=(\n    `card__like ${isLiked ? 'card__like_active' : 'card__like'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  return (\n    <article className=\"card\">\n      <div className=\"card__image\" style={{backgroundImage: `url(${card.link})`}} \n      onClick={handleClick}></div>\n      <div className=\"card__item\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__item-like\">\n          <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"score\" \n          onClick={handleLikeClick}></button>\n          <p className=\"card__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardDeleteButtonClassName} aria-label=\"delete\" \n      onClick={handleDeleteClick}></button>\n    </article>\n  );    \n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, \nonCardLike, onCardDelete}) {\n  const currentUser=React.useContext(CurrentUserContext);\n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile content__profile\">\n        <div className=\"profile__avatar\" onClick={onEditAvatar} \n        style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"button button_type_edit\" aria-label=\"edit\" \n          onClick={onEditProfile}></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"button button_type_add\" aria-label=\"add\" \n        onClick={onAddPlace}></button>\n      </section>\n      <section className=\"cards content__cards\">\n        {cards.map((card, card_id) => (\n          <Card\n            key={card_id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete} \n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\nimport {Switch, Route} from 'react-router-dom';\n\nfunction Footer() {\n  return (\n    <Switch>\n      <Route path=\"/main\">\n        <footer className=\"footer page__footer\">\n          <p className=\"footer__paragraph\">&copy; 2021 Mesto Russia</p>\n        </footer>\n      </Route>\n      <Route path=\"/signin\">\n        <footer className=\"footer page__footer\" style={{display: 'none'}}>\n          <p className=\"footer__paragraph\">&copy; 2021 Mesto Russia</p>\n        </footer>\n      </Route>\n      <Route path=\"/signup\">\n        <footer className=\"footer page__footer\" style={{display: 'none'}}>\n          <p className=\"footer__paragraph\">&copy; 2021 Mesto Russia</p>\n        </footer>\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({name, isOpen, title, children, onClose, buttonText='Сохранить', onSubmit}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__heading\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"button popup__button\" \n          onClick={onClose}>{buttonText}</button>\n        </form>\n        <button type=\"button\" className=\"button popup__close\" aria-label=\"close\" \n        onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React  from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const avatarRef=React.useRef();\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n    avatarRef.current.value='';\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const avatar=avatarRef.current.value;\n    onUpdateAvatar({\n      avatar: avatar\n    })\n    avatarRef.current.value='';\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"edit-avatar\" title=\"Обновить аватар\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"avatar-input\" className=\"popup__input popup__input_type_link\"\n        type=\"url\" name=\"avatar\" required placeholder=\"Ссылка на изображение\" \n        ref={avatarRef} />\n        <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm> \n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName]=React.useState('');\n  const [description, setDescription]=React.useState('');\n  const currentUser=React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);}\n    return;\n  }, [isOpen, currentUser]);\n  \n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description\n    })\n    setName('');\n    setDescription('');\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"edit-profile\" title=\"Редактировать профиль\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"name-input\" className=\"popup__input popup__input_type_name\"\n        type=\"text\" name=\"name\" value={name} onChange={handleNameChange} \n        required placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" />\n        <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"job-input\"className=\"popup__input popup__input_type_job\"\n        type=\"text\" name=\"about\" value={description} onChange={handleDescriptionChange} \n        required placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" />\n        <span id=\"job-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const [name, setName]=React.useState('');\n  const [link, setLink]=React.useState('');\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n      setName('');\n      setLink('');\n  }, [isOpen]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: name,\n      link: link\n    })\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"add-card\" title=\"Новое место\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"title-input\" className=\"popup__input popup__input_type_place\"\n        type=\"text\" name=\"name\" value={name} onChange={handleNameChange} \n        required placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" />\n        <span id=\"title-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"link-input\" className=\"popup__input popup__input_type_link\"\n        type=\"url\" name=\"link\" value={link} onChange={handleLinkChange} \n        required placeholder=\"Ссылка на картинку\" />\n        <span id=\"link-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n  return (\n    <div className={`popup popup_type_image ${card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button type=\"button\" className=\"button popup__close\" aria-label=\"close\" \n        onClick={onClose}></button>\n        <img className=\"popup__image\" src={card && card.link} alt=\"#\" />\n        <p className=\"popup__caption\">{card && card.name}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup({isOpen, onClose}) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"remove-card\" title=\"Вы уверены?\" \n    onClose={onClose} buttonText='Да' onSubmit={handleSubmit}></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;","class Api {\n  constructor({address, groupId, token}) {\n    this._address = address;\n    this._groupId = groupId;\n    this._token = token;\n  }\n\n  getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  setUserInfo({name, about}) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(this.getResponse)\n  }\n\n  addCard({name, link}) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(this.getResponse)\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  changeLikeStatus(cardId, like) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  setUserAvatar({avatar}) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(this.getResponse)\n  }\n}\n\nconst api = new Api({\n  address: 'https://mesto.nomoreparties.co/v1',\n  groupId: 'cohort-19',\n  token: '979f327c-b875-4f2f-925c-fd9cce3cb14f'\n});\n\nexport default api;\n","import React from 'react';\nimport {useHistory} from 'react-router-dom'; \n\nfunction Login({onFailInfoTooltip, onLogin}) {\n  const initialData={email: '', password: ''}\n  const [data, setData]=React.useState(initialData);\n  const history=useHistory();\n\n  const handleChange = (evt) => {\n    const {name, value}=evt.target;\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      onFailInfoTooltip();\n      return;\n    }\n    \n    onLogin(data)\n      .then(resetForm)\n      .then(() => history.push('/main'))\n      .catch(err => {\n        console.log(`Пользователь с email не найден: ${err}`);\n        onFailInfoTooltip();\n      })\n  }\n\n  return (\n    <div className=\"login\">\n      <form className=\"login__form\" onSubmit={handleSubmit} noValidate>\n        <h2 className=\"login__heading\">Вход</h2>\n        <input className=\"login__input\" type=\"email\" name=\"email\" \n        value={data.email} onChange={handleChange} required placeholder=\"Email\" />\n        <input className=\"login__input\" type=\"password\" name=\"password\" \n        value={data.password} onChange={handleChange} required placeholder=\"Пароль\" \n        minLength=\"8\" maxLength=\"12\" />\n        <button type=\"submit\" className=\"button login__button\" >Войти</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport {Link, useHistory} from 'react-router-dom';\n\nfunction Register({onFailInfoTooltip, onRegister}) {\n  const initialData={email: '', password: ''};\n  const [data, setData]=React.useState(initialData);\n  const history=useHistory();\n\n  const handleChange = (evt) => {\n    const {name, value}=evt.target;\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      onFailInfoTooltip();\n      return;\n    }\n\n    onRegister(data)\n      .then(resetForm)\n      .then(() => history.push('/signin'))\n      .catch(err => {\n        console.log(`Некорректно заполнено одно из полей: ${err}`); \n        onFailInfoTooltip();\n      })\n  }    \n\n  return (\n    <div className=\"register\">\n      <form className=\"register__form\" onSubmit={handleSubmit} noValidate>\n        <h2 className=\"register__heading\">Регистрация</h2>\n        <input className=\"register__input\" type=\"email\" name=\"email\" \n        value={data.email} onChange={handleChange} required placeholder=\"Email\" />\n        <input className=\"register__input\" type=\"password\" name=\"password\" \n        value={data.password} onChange={handleChange} required placeholder=\"Пароль\" \n        minLength=\"8\" maxLength=\"12\" />\n        <button type=\"submit\" className=\"button register__button\" >Зарегистрироваться</button>\n        <p className=\"register__info\">Уже зарегистрированы?\n          <Link className=\"register__link\" to=\"/signin\"> Войти</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;","import React from 'react';\n\nfunction InfoTooltip({isOpen, children, onClose}) {\n  return (\n    <div className={`popup popup_type_tooltip ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_tooltip\">\n        <div className=\"popup__form popup__form_type_tooltip\">\n          {children}\n        </div>\n        <button type=\"button\" className=\"button popup__close popup__close_type_tooltip\" aria-label=\"close\" \n        onClick={onClose}></button> \n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/successPic.1b6082f8.svg\";","import React from 'react';\nimport InfoTooltip from './InfoTooltip';\nimport successPicPath from '../images/successPic.svg';\n\nfunction SuccessInfoTooltip({isOpen, onClose}) {\n  return (\n    <InfoTooltip isOpen={isOpen} onClose={onClose}>\n      <img className=\"popup__image-tooltip\" src={successPicPath} alt=\"#\" />\n      <p className=\"popup__caption-tooltip\">Вы успешно зарегистрировались!</p>\n    </InfoTooltip>\n  );\n}\n\nexport default SuccessInfoTooltip;","export default __webpack_public_path__ + \"static/media/failPic.df8eddf6.svg\";","import React from 'react';\nimport InfoTooltip from './InfoTooltip';\nimport failPicPath from '../images/failPic.svg';\n\nfunction FailInfoTooltip({isOpen, onClose}) {\n  return (\n    <InfoTooltip isOpen={isOpen} onClose={onClose}>\n      <img className=\"popup__image-tooltip\" src={failPicPath} alt=\"#\" />\n      <p className=\"popup__caption-tooltip\">Что-то пошло не так! Попробуйте ещё раз.</p>\n    </InfoTooltip>\n  );\n}\n\nexport default FailInfoTooltip;","import React  from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","export const BASE_URL='https://auth.nomoreparties.co';\n\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(responseCheck)\n};\n\nexport const authorize = (identifier, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email: identifier, password: password})\n  })\n    .then(responseCheck)\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n    .then(responseCheck)\n};\n","import React from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport {Route, Switch, Redirect, useHistory} from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport SuccessInfoTooltip from './SuccessInfoTooltip';\nimport FailInfoTooltip from './FailInfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';     \n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen]=React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen]=React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen]=React.useState(false);\n  const [selectedCard, setSelectedCard]=React.useState();\n  const [currentUser, setCurrentUser]=React.useState({name: '', about: ''});\n  const [cards, setCards]=React.useState([]);\n  const [isSuccessInfoTooltipOpen, setIsSuccessInfoTooltipOpen]=React.useState(false);\n  const [isFailInfoTooltipOpen, setIsFailInfoTooltipOpen]=React.useState(false);\n  const [loggedIn, setLoggedIn]=React.useState(false);\n  const initialData={email: '', password: ''};\n  const [data, setData]=React.useState(initialData);\n  const history=useHistory();\n  \n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка в информации о пользователе: ${err}`));\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((cardData) => {\n        setCards(cardData);\n      })\n      .catch(err => console.log(`Ошибка при загрузке карточек: ${err}`));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked=card.likes.some(item => item._id===currentUser._id);\n\n    api.changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards=cards.map((c) => c._id===card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка в статусе лайка: ${err}`)); \n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        setCards(cards.filter((c) => c._id!==card._id));\n      })\n      .catch(err => console.log(`Ошибка при удалении карточки: ${err}`));\n  }\n   \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleSuccessInfoTooltipClick() {\n    setIsSuccessInfoTooltipOpen(true);\n  }\n\n  function handleFailInfoTooltipClick() {\n    setIsFailInfoTooltipOpen(true);\n  }\n\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка обновления информации о пользователе: ${err}`));\n  }\n\n  function handleUpdateAvatar(info) {\n    api.setUserAvatar(info)\n      .then((data) => {\n        setCurrentUser(data); \n      })\n      .catch(err => console.log(`Ошибка обновления аватара: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(info) {\n    api.addCard(info)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch(err => console.log(`Ошибка добавления карточки: ${err}`));\n  }\n\n  const handleRegister = ({email, password}) => {\n    return auth.register(email, password).then(res => {\n      if (!res || res.statusCode === 400) throw new Error('Некорректно заполнено одно из полей');\n      handleSuccessInfoTooltipClick();\n      return res;\n    });\n  }\n\n  const handleLogin = ({email, password}) => {\n    return auth.authorize(email, password).then(res => {\n      if (!res || res.statusCode === 401) throw new Error('Пользователь с email не найден');\n      if (res.token) {\n        setLoggedIn(true);\n        localStorage.setItem('token', res.token);\n      };\n      return res;\n    });\n  }\n\n  const tokenCheck = React.useCallback(() => {\n    const token=localStorage.getItem('token');\n    if (token) {\n      auth.getContent(token)\n        .then((res) => {\n          if (!res || res.statusCode === 401) throw new Error('Токен не передан или переданный токен некорректен');\n          if (res) {\n            setLoggedIn(true);\n            setData({\n              email: res.data.email\n            });\n            history.push('/main');\n          }\n        })\n        .catch(() => history.push('/signin'));\n    }\n  }, [history])\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck, loggedIn]);\n\n  const handleSignOut = () => {\n    localStorage.removeItem('token');\n    setData(initialData);\n    setLoggedIn(false);\n    history.push('/signin');\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n    setIsSuccessInfoTooltipOpen(false);\n    setIsFailInfoTooltipOpen(false);\n  }\n\n  return (\n    <div className=\"root\">\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header \n            loggedIn={loggedIn} \n            userEmail={data.email} \n            onSignOut={handleSignOut} \n          />\n          <Switch>\n            <ProtectedRoute path=\"/main\" \n              component={Main}\n              loggedIn={loggedIn} \n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              onCardDelete={handleCardDelete}\n              onCardLike={handleCardLike}\n              cards={cards}\n            />\n            <Route path=\"/signin\">\n              <Login\n                onFailInfoTooltip={handleFailInfoTooltipClick}\n                onLogin={handleLogin}\n              />\n            </Route>\n            <Route path=\"/signup\">\n              <Register\n                onFailInfoTooltip={handleFailInfoTooltipClick}\n                onRegister={handleRegister} \n              />\n            </Route>\n            <Route>\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\n            </Route>\n          </Switch>\n          <Footer />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar} \n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser} \n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n            card={selectedCard} \n            onClose={closeAllPopups}\n          />\n          <DeleteCardPopup\n            onClose={closeAllPopups}\n          />\n          <SuccessInfoTooltip\n            isOpen={isSuccessInfoTooltipOpen}\n            onClose={closeAllPopups} \n          />\n          <FailInfoTooltip\n            isOpen={isFailInfoTooltipOpen}\n            onClose={closeAllPopups} \n          />\n        </CurrentUserContext.Provider>\n      </div>  \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>  \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}