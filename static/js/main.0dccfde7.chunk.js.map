{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeleteCardPopup.js","utils/api.js","components/Login.js","components/Register.js","images/failPic.svg","images/successPic.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userEmail","onSignOut","loggedIn","React","useState","isHeaderContainerOpen","setIsHeaderContainerOpen","isHeaderContainerMobileClose","setIsHeaderContainerMobileClose","path","className","src","logoPath","alt","type","onClick","aria-label","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","style","backgroundImage","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","card_id","Footer","PopupWithForm","isOpen","title","children","onClose","buttonText","onSubmit","noValidate","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","useEffect","current","value","evt","preventDefault","id","required","placeholder","ref","EditProfilePopup","onUpdateUser","setName","description","setDescription","onChange","target","minLength","maxLength","AddPlacePopup","setLink","ImagePopup","DeleteCardPopup","api","address","groupId","token","this","_address","_groupId","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","getResponse","method","body","JSON","stringify","cardId","like","Login","onLogin","email","password","data","setData","handleChange","catch","err","console","log","Register","onInfoTooltip","onRegister","InfoTooltip","isRegistered","infoTooltipPic","successPicPath","failPicPath","infoTooltipText","ProtectedRoute","Component","component","props","BASE_URL","responseCheck","response","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isInfoTooltipOpen","setIsInfoTooltipOpen","setLoggedIn","setIsRegistered","initialData","history","useHistory","handleInfoTooltipClick","getUserInfo","getInitialCards","cardData","tokenCheck","useCallback","localStorage","getItem","auth","push","closeAllPopups","Provider","removeItem","removeCard","filter","c","changeLikeStatus","newCard","newCards","identifier","setItem","info","setUserAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0dccfde7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport {Switch, Route, Link} from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\n\nfunction Header({userEmail, onSignOut, loggedIn}) {\n  const [isHeaderContainerOpen, setIsHeaderContainerOpen]=React.useState();\n  const [isHeaderContainerMobileClose, setIsHeaderContainerMobileClose]=React.useState();\n\n  function open() {\n    setIsHeaderContainerOpen(true);\n    setIsHeaderContainerMobileClose(true);\n  }\n\n  function close() {\n    setIsHeaderContainerOpen(false);\n    setIsHeaderContainerMobileClose(false);\n  }\n\n  return (\n    <Switch>\n      <Route path=\"/main\">\n        <header className=\"header page__header\">\n          <div className={`header__container ${isHeaderContainerOpen && 'header__container_opened'}`}>\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <ul className=\"header__list\">\n              {loggedIn && <li className=\"header__list-item\">{userEmail}</li>} \n              <li className=\"header__list-item\">\n                <button type=\"button\" className=\"button header__button\" onClick={onSignOut}>Выйти</button>\n              </li>\n            </ul>\n            <button type=\"button\" className=\"button header__close-menu\" \n            onClick={close} aria-label=\"close\"></button>\n          </div>\n          <div className={`header__container header__container-mobile ${isHeaderContainerMobileClose && 'header__container-mobile_closed'}`}>\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <button type=\"button\" className=\"button header__open-menu\" \n            onClick={open} aria-label=\"open\"></button>\n          </div>\n        </header>\n      </Route>\n      <Route path=\"/signin\">\n        <header className=\"header page__header\">\n          <div className=\"header__container header__container_type_login\">\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <ul className=\"header__list header__list_type_login\"> \n              <li className=\"header__list-item header__list-item_type_login\">\n                <Link className=\"header__link\" to=\"/signup\">Регистрация</Link>\n              </li>\n            </ul>\n          </div>\n        </header>\n      </Route>\n      <Route path=\"/signup\">\n        <header className=\"header page__header\">\n          <div className=\"header__container header__container_type_login\">\n            <img className=\"logo header__logo\" src={logoPath} alt=\"Логотип\" />\n            <ul className=\"header__list header__list_type_login\"> \n              <li className=\"header__list-item header__list-item_type_login\">\n                <Link className=\"header__link\" to=\"/signin\">Войти</Link>\n              </li>\n            </ul>\n          </div>\n        </header>\n      </Route>\n    </Switch>  \n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\n  const currentUser=React.useContext(CurrentUserContext);\n  \n  const isOwn=card.owner._id===currentUser._id;\n\n  const cardDeleteButtonClassName=(\n    `card__delete ${isOwn ? 'card__delete_visible' : 'card__delete_invisible'}`\n  );\n\n  const isLiked=card.likes.some(item => item._id===currentUser._id);\n\n  const cardLikeButtonClassName=(\n    `card__like ${isLiked ? 'card__like_active' : 'card__like'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  return (\n    <article className=\"card\">\n      <div className=\"card__image\" style={{backgroundImage: `url(${card.link})`}} \n      onClick={handleClick}></div>\n      <div className=\"card__item\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__item-like\">\n          <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"score\" \n          onClick={handleLikeClick}></button>\n          <p className=\"card__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardDeleteButtonClassName} aria-label=\"delete\" \n      onClick={handleDeleteClick}></button>\n    </article>\n  );    \n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, \nonCardLike, onCardDelete}) {\n  const currentUser=React.useContext(CurrentUserContext);\n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile content__profile\">\n        <div className=\"profile__avatar\" onClick={onEditAvatar} \n        style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"button button_type_edit\" aria-label=\"edit\" \n          onClick={onEditProfile}></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"button button_type_add\" aria-label=\"add\" \n        onClick={onAddPlace}></button>\n      </section>\n      <section className=\"cards content__cards\">\n        {cards.map((card, card_id) => (\n          <Card\n            key={card_id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete} \n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nfunction Footer() {\n  return (\n    <Route path=\"/main\">\n      <footer className=\"footer page__footer\">\n        <p className=\"footer__paragraph\">&copy; 2021 Mesto Russia</p>\n      </footer>\n    </Route>\n    \n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({name, isOpen, title, children, onClose, buttonText='Сохранить', onSubmit}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__heading\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"button popup__button\" \n          onClick={onClose}>{buttonText}</button>\n        </form>\n        <button type=\"button\" className=\"button popup__close\" aria-label=\"close\" \n        onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React  from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const avatarRef=React.useRef();\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n    avatarRef.current.value='';\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const avatar=avatarRef.current.value;\n    onUpdateAvatar({\n      avatar: avatar\n    })\n    avatarRef.current.value='';\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"edit-avatar\" title=\"Обновить аватар\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"avatar-input\" className=\"popup__input popup__input_type_link\"\n        type=\"url\" name=\"avatar\" required placeholder=\"Ссылка на изображение\" \n        ref={avatarRef} />\n        <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm> \n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName]=React.useState('');\n  const [description, setDescription]=React.useState('');\n  const currentUser=React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);}\n    return;\n  }, [isOpen, currentUser]);\n  \n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description\n    })\n    setName('');\n    setDescription('');\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"edit-profile\" title=\"Редактировать профиль\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"name-input\" className=\"popup__input popup__input_type_name\"\n        type=\"text\" name=\"name\" value={name} onChange={handleNameChange} \n        required placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" />\n        <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"job-input\"className=\"popup__input popup__input_type_job\"\n        type=\"text\" name=\"about\" value={description} onChange={handleDescriptionChange} \n        required placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" />\n        <span id=\"job-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const [name, setName]=React.useState('');\n  const [link, setLink]=React.useState('');\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n      setName('');\n      setLink('');\n  }, [isOpen]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: name,\n      link: link\n    })\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"add-card\" title=\"Новое место\" \n    onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__label\">\n        <input id=\"title-input\" className=\"popup__input popup__input_type_place\"\n        type=\"text\" name=\"name\" value={name} onChange={handleNameChange} \n        required placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" />\n        <span id=\"title-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"link-input\" className=\"popup__input popup__input_type_link\"\n        type=\"url\" name=\"link\" value={link} onChange={handleLinkChange} \n        required placeholder=\"Ссылка на картинку\" />\n        <span id=\"link-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n  return (\n    <div className={`popup popup_type_image ${card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button type=\"button\" className=\"button popup__close\" aria-label=\"close\" \n        onClick={onClose}></button>\n        <img className=\"popup__image\" src={card && card.link} alt=\"#\" />\n        <p className=\"popup__caption\">{card && card.name}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup({isOpen, onClose}) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  }\n\n  return (\n    <PopupWithForm isOpen={isOpen} name=\"remove-card\" title=\"Вы уверены?\" \n    onClose={onClose} buttonText='Да' onSubmit={handleSubmit}></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;","class Api {\n  constructor({address, groupId, token}) {\n    this._address = address;\n    this._groupId = groupId;\n    this._token = token;\n  }\n\n  getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  setUserInfo({name, about}) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(this.getResponse)\n  }\n\n  addCard({name, link}) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(this.getResponse)\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  changeLikeStatus(cardId, like) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this.getResponse)\n  }\n\n  setUserAvatar({avatar}) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(this.getResponse)\n  }\n}\n\nconst api = new Api({\n  address: 'https://mesto.nomoreparties.co/v1',\n  groupId: 'cohort-19',\n  token: '979f327c-b875-4f2f-925c-fd9cce3cb14f'\n});\n\nexport default api;\n","import React from 'react'; \n\nfunction Login({onLogin}) {\n  const initialData={email: '', password: ''}\n  const [data, setData]=React.useState(initialData);\n\n  const handleChange = (evt) => {\n    const {name, value}=evt.target;\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    \n    onLogin(data)\n      .catch(err => {\n        console.log(`Пользователь с email не найден: ${err}`);\n      })\n  }\n\n  return (\n    <div className=\"login\">\n      <form className=\"login__form\" onSubmit={handleSubmit} noValidate>\n        <h2 className=\"login__heading\">Вход</h2>\n        <input className=\"login__input\" type=\"email\" name=\"email\" \n        value={data.email} onChange={handleChange} required placeholder=\"Email\" />\n        <input className=\"login__input\" type=\"password\" name=\"password\" \n        value={data.password} onChange={handleChange} required placeholder=\"Пароль\" \n        minLength=\"8\" maxLength=\"12\" />\n        <button type=\"submit\" className=\"button login__button\" >Войти</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nfunction Register({onInfoTooltip, onRegister}) {\n  const initialData={email: '', password: ''};\n  const [data, setData]=React.useState(initialData);\n\n  const handleChange = (evt) => {\n    const {name, value}=evt.target;\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      onInfoTooltip();\n      return;\n    }\n\n    onRegister(data)\n      .catch(err => {\n        console.log(`Некорректно заполнено одно из полей: ${err}`); \n        onInfoTooltip();\n      })\n  }    \n\n  return (\n    <div className=\"register\">\n      <form className=\"register__form\" onSubmit={handleSubmit} noValidate>\n        <h2 className=\"register__heading\">Регистрация</h2>\n        <input className=\"register__input\" type=\"email\" name=\"email\" \n        value={data.email} onChange={handleChange} required placeholder=\"Email\" />\n        <input className=\"register__input\" type=\"password\" name=\"password\" \n        value={data.password} onChange={handleChange} required placeholder=\"Пароль\" \n        minLength=\"8\" maxLength=\"12\" />\n        <button type=\"submit\" className=\"button register__button\" >Зарегистрироваться</button>\n        <p className=\"register__info\">Уже зарегистрированы?\n          <Link className=\"register__link\" to=\"/signin\"> Войти</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;","export default __webpack_public_path__ + \"static/media/failPic.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/successPic.1b6082f8.svg\";","import React from 'react';\nimport failPicPath from '../images/failPic.svg';\nimport successPicPath from '../images/successPic.svg';\n\nfunction InfoTooltip({isOpen, onClose, isRegistered}) {\n  const infoTooltipPic=isRegistered ? successPicPath : failPicPath;\n  const infoTooltipText=isRegistered ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\";\n\n  return (\n    <div className={`popup popup_type_tooltip ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_tooltip\">\n        <div className=\"popup__form popup__form_type_tooltip\">\n          <img className=\"popup__image-tooltip\" src={infoTooltipPic} alt=\"#\" />\n          <p className=\"popup__caption-tooltip\">{infoTooltipText}</p>\n        </div>\n        <button type=\"button\" className=\"button popup__close popup__close_type_tooltip\" aria-label=\"close\" \n        onClick={onClose}></button> \n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","import React  from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","export const BASE_URL='https://auth.nomoreparties.co';\n\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(responseCheck)\n};\n\nexport const authorize = (identifier, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email: identifier, password: password})\n  })\n    .then(responseCheck)\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n    .then(responseCheck)\n};\n","import React from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport {Route, Switch, Redirect, useHistory} from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';     \n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen]=React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen]=React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen]=React.useState(false);\n  const [selectedCard, setSelectedCard]=React.useState();\n  const [currentUser, setCurrentUser]=React.useState({name: '', about: ''});\n  const [cards, setCards]=React.useState([]);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen]=React.useState(false);\n  const [loggedIn, setLoggedIn]=React.useState(false);\n  const [isRegistered, setIsRegistered]=React.useState(false);\n  const initialData={email: '', password: ''};\n  const [data, setData]=React.useState(initialData);\n  const history=useHistory();\n  \n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка в информации о пользователе: ${err}`));\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((cardData) => {\n        setCards(cardData);\n      })\n      .catch(err => console.log(`Ошибка при загрузке карточек: ${err}`));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked=card.likes.some(item => item._id===currentUser._id);\n\n    api.changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards=cards.map((c) => c._id===card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка в статусе лайка: ${err}`)); \n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        setCards(cards.filter((c) => c._id!==card._id));\n      })\n      .catch(err => console.log(`Ошибка при удалении карточки: ${err}`));\n  }\n   \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleInfoTooltipClick() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка обновления информации о пользователе: ${err}`));\n  }\n\n  function handleUpdateAvatar(info) {\n    api.setUserAvatar(info)\n      .then((data) => {\n        setCurrentUser(data); \n      })\n      .catch(err => console.log(`Ошибка обновления аватара: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(info) {\n    api.addCard(info)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch(err => console.log(`Ошибка добавления карточки: ${err}`));\n  }\n\n  const handleRegister = ({email, password}) => {\n    return auth.register(email, password).then(res => {\n      setIsRegistered(true);\n      handleInfoTooltipClick();\n      history.push('/signin');\n      return res;\n    });\n  }\n\n  const handleLogin = ({email, password}) => {\n    return auth.authorize(email, password).then(res => {\n      if (res.token) {\n        localStorage.setItem('token', res.token);\n        setLoggedIn(true);\n        history.push('/main');\n      };\n      return res;\n    });\n  }\n\n  const tokenCheck = React.useCallback(() => {\n    const token=localStorage.getItem('token');\n    if (token) {\n      auth.getContent(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setData({\n              email: res.data.email\n            });\n            history.push('/main');\n          }\n        })\n        .catch(() => history.push('/signin'));\n    }\n  }, [history])\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck, loggedIn]);\n\n  const handleSignOut = () => {\n    localStorage.removeItem('token');\n    setData(initialData);\n    setLoggedIn(false);\n    setIsRegistered(false);\n    history.push('/signin');\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n    setIsInfoTooltipOpen(false);\n  }\n\n  return (\n    <div className=\"root\">\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header \n            loggedIn={loggedIn} \n            userEmail={data.email} \n            onSignOut={handleSignOut} \n          />\n          <Switch>\n            <ProtectedRoute path=\"/main\" \n              component={Main}\n              loggedIn={loggedIn} \n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              onCardDelete={handleCardDelete}\n              onCardLike={handleCardLike}\n              cards={cards}\n            />\n            <Route path=\"/signin\">\n              <Login\n                onLogin={handleLogin}\n              />\n            </Route>\n            <Route path=\"/signup\">\n              <Register\n                onInfoTooltip={handleInfoTooltipClick}\n                onRegister={handleRegister} \n              />\n            </Route>\n            <Route>\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\n            </Route>\n          </Switch>\n          <Footer />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar} \n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser} \n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n            card={selectedCard} \n            onClose={closeAllPopups}\n          />\n          <DeleteCardPopup\n            onClose={closeAllPopups}\n          />\n          <InfoTooltip\n            isRegistered={isRegistered}\n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups} \n          />\n        </CurrentUserContext.Provider>\n      </div>  \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>  \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}